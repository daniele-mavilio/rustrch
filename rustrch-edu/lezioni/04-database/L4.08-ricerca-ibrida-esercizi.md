## Domande di Comprensione

1. **Qual è lo scopo principale della ricerca ibrida?**
   - La ricerca ibrida combina i vantaggi della ricerca basata su parole chiave (BM25) e della ricerca semantica basata su embedding per migliorare la precisione e la rilevanza dei risultati.

2. **Quali sono i due tipi di punteggi utilizzati nella ricerca ibrida?**
   - I due tipi di punteggi sono il punteggio BM25, basato sulla corrispondenza lessicale, e il punteggio di embedding, basato sulla similarità semantica.

3. **Come viene calcolato il punteggio finale nella ricerca ibrida?**
   - Il punteggio finale è una combinazione pesata dei punteggi BM25 e di embedding, dove i pesi determinano l'importanza relativa di ciascun metodo.

4. **Qual è il vantaggio di utilizzare la ricerca ibrida rispetto a BM25 o embedding da soli?**
   - La ricerca ibrida supera i limiti di entrambi i metodi, catturando sia le corrispondenze esatte delle parole chiave che il significato semantico della query.

5. **Come influisce la scelta dei pesi sulla ricerca ibrida?**
   - La scelta dei pesi determina quanto ciascun metodo contribuisce al punteggio finale. Un peso maggiore a BM25 favorisce le corrispondenze esatte, mentre un peso maggiore agli embedding favorisce la comprensione semantica.

## Esercizi Pratici

1. **Implementazione di Base:**
   - Scrivi una funzione in Rust che calcoli il punteggio combinato per la ricerca ibrida, dato un punteggio BM25, un punteggio di embedding, e i rispettivi pesi.
   - **Traccia di Soluzione:**
     ```rust
     fn calculate_combined_score(bm25_score: f32, embedding_score: f32, bm25_weight: f32, embedding_weight: f32) -> f32 {
         (bm25_score * bm25_weight) + (embedding_score * embedding_weight)
     }
     ```

2. **Normalizzazione dei Punteggi:**
   - Modifica la funzione sopra per normalizzare i punteggi BM25 e di embedding prima di calcolare il punteggio combinato.
   - **Traccia di Soluzione:**
     ```rust
     fn normalize_score(score: f32) -> f32 {
         score / (score + 1.0)
     }
     
     fn calculate_combined_score(bm25_score: f32, embedding_score: f32, bm25_weight: f32, embedding_weight: f32) -> f32 {
         let normalized_bm25 = normalize_score(bm25_score);
         let normalized_embedding = normalize_score(embedding_score);
         (normalized_bm25 * bm25_weight) + (normalized_embedding * embedding_weight)
     }
     ```

## Riepilogo

La ricerca ibrida è un metodo potente per migliorare la rilevanza dei risultati di ricerca, combinando i punti di forza di BM25 e degli embedding. La scelta dei pesi è cruciale per bilanciare la precisione delle corrispondenze lessicali con la comprensione semantica della query. Implementare la ricerca ibrida richiede una buona comprensione di entrambi i metodi e della loro integrazione.